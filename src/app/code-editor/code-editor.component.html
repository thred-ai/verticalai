<div
  class="w-100 h-100 d-flex justify-content-between flex-column align-content-center bg-theme"
  style="overflow: hidden"
>
  <div
    class="px-2 w-100 d-flex justify-content-between align-items-center"
    style="height: 70px; border-bottom: #7f7f7f solid 0.5px"
  >
    <div class="d-flex justify-content-center align-items-center my-auto">
      <p
        class="btn bg-transparent rounded-pill fw-bold text-white border-0 d-flex justify-content-between align-content-center px-2 py-2 my-auto"
        (click)="close()"
      >
        <mat-icon class="me-0" style="aspect-ratio: 1"> close </mat-icon>
      </p>
    </div>
    <button
      class="btn bg-orange border-0 rounded fw-bold text-white d-flex justify-content-between align-content-center px-3 py-2 my-auto"
      (click)="dialogRef.close(changedCode)"
    >
      <!-- (click)="edited ? save() : publish(workflow)"
        [disabled]="loading" -->

      Save
      <mat-icon class="fw-bold ms-2" style="aspect-ratio: 1">
        check_circle
      </mat-icon>
    </button>
  </div>

  <div
    class="w-100 h-100 d-flex flex-column justify-content-start align-items-center p-2"
    style="overflow-y: scroll"
  >
    <div
      class="d-flex justify-content-center align-items-center h-100"
      style="width: 100%; max-width: 800px"
      *ngIf="code != undefined"
    >
      <div
        class="w-100 h-100 rounded"
        style="overflow: hidden; border: #1f1f1f solid 1px"
      >
        <ngs-code-editor
          *ngIf="type == 'json' || type == 'javascript'"
          style="height: 100%; width: 100%"
          [theme]="'hc-black'"
          [codeModel]="{
            language: type,
            uri: type + '-code',
            value: code
          }"
          [options]="{
            contextmenu: false,
            minimap: {
              enabled: false
            },
            scrollbar: {
              vertical: 'hidden'
            },
            renderValidationDecorations: 'off',
            validate: false,
            overviewRulerBorder: false,
            overviewRulerLanes: 0,
            hideCursorInOverviewRuler: true
          }"
          (valueChanged)="changedCode = $event"
        >
        </ngs-code-editor>
        <verticalai-textbox
          class="w-100 h-100"
          *ngIf="type == 'plaintext'"
          [simplify]="true"
          [value]="code"
          [bgColor]="'#1f1f1f'"
          [type]="'text'"
          [placeholder]="'Enter Text'"
          (changed)="changedCode = $event"
        >
        </verticalai-textbox>
      </div>
    </div>
  </div>
</div>
